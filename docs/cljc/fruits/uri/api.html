<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;left:0;position:fixed;width:100%}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}</script><title>cljc-fruits 1.0.9.6 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Isomorphic namespaces</pre><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/alphabet/api.html"><pre class="button color--hard-blue text--m ">fruits.alphabet.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/atom/api.html"><pre class="button color--hard-blue text--m ">fruits.atom.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/audit/api.html"><pre class="button color--hard-blue text--m ">fruits.audit.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/base64/api.html"><pre class="button color--hard-blue text--m ">fruits.base64.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/bson/api.html"><pre class="button color--hard-blue text--m ">fruits.bson.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/css/api.html"><pre class="button color--hard-blue text--m ">fruits.css.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/eql/api.html"><pre class="button color--hard-blue text--m ">fruits.eql.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/format/api.html"><pre class="button color--hard-blue text--m ">fruits.format.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/gestures/api.html"><pre class="button color--hard-blue text--m ">fruits.gestures.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/hiccup/api.html"><pre class="button color--hard-blue text--m ">fruits.hiccup.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/href/api.html"><pre class="button color--hard-blue text--m ">fruits.href.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/html/api.html"><pre class="button color--hard-blue text--m ">fruits.html.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/http/api.html"><pre class="button color--hard-blue text--m ">fruits.http.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/integer/api.html"><pre class="button color--hard-blue text--m ">fruits.integer.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/json/api.html"><pre class="button color--hard-blue text--m ">fruits.json.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/keyword/api.html"><pre class="button color--hard-blue text--m ">fruits.keyword.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/layout/api.html"><pre class="button color--hard-blue text--m ">fruits.layout.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/logic/api.html"><pre class="button color--hard-blue text--m ">fruits.logic.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/loop/api.html"><pre class="button color--hard-blue text--m ">fruits.loop.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/lorem-ipsum/api.html"><pre class="button color--hard-blue text--m ">fruits.lorem-ipsum.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/map/api.html"><pre class="button color--hard-blue text--m ">fruits.map.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/math/api.html"><pre class="button color--hard-blue text--m ">fruits.math.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/mixed/api.html"><pre class="button color--hard-blue text--m ">fruits.mixed.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/namespace/api.html"><pre class="button color--hard-blue text--m ">fruits.namespace.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/noop/api.html"><pre class="button color--hard-blue text--m ">fruits.noop.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/normalize/api.html"><pre class="button color--hard-blue text--m ">fruits.normalize.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/pretty/api.html"><pre class="button color--hard-blue text--m ">fruits.pretty.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/print/api.html"><pre class="button color--hard-blue text--m ">fruits.print.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/random/api.html"><pre class="button color--hard-blue text--m ">fruits.random.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/reader/api.html"><pre class="button color--hard-blue text--m ">fruits.reader.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/regex/api.html"><pre class="button color--hard-blue text--m ">fruits.regex.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/seqable/api.html"><pre class="button color--hard-blue text--m ">fruits.seqable.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/string/api.html"><pre class="button color--hard-blue text--m ">fruits.string.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/svg/api.html"><pre class="button color--hard-blue text--m ">fruits.svg.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/syntax/api.html"><pre class="button color--hard-blue text--m ">fruits.syntax.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/uri/api.html"><pre class="button color--hard-blue text--m button--active">fruits.uri.api</pre></a><a href="https://bithandshake.github.io/cljc-fruits/cljc/fruits/vector/api.html"><pre class="button color--hard-blue text--m ">fruits.vector.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#domain-pattern"><pre class="button color--hard-blue text--m">DOMAIN-PATTERN</pre></a><a href="#port-pattern"><pre class="button color--hard-blue text--m">PORT-PATTERN</pre></a><a href="#scheme-pattern"><pre class="button color--hard-blue text--m">SCHEME-PATTERN</pre></a><a href="#pretty-url"><pre class="button color--hard-blue text--m">pretty-url</pre></a><a href="#to-absolute-url"><pre class="button color--hard-blue text--m">to-absolute-url</pre></a><a href="#to-domain"><pre class="button color--hard-blue text--m">to-domain</pre></a><a href="#to-encoded-url"><pre class="button color--hard-blue text--m">to-encoded-url</pre></a><a href="#to-hostname"><pre class="button color--hard-blue text--m">to-hostname</pre></a><a href="#to-lowercase"><pre class="button color--hard-blue text--m">to-lowercase</pre></a><a href="#to-nonschemed"><pre class="button color--hard-blue text--m">to-nonschemed</pre></a><a href="#to-parent-url"><pre class="button color--hard-blue text--m">to-parent-url</pre></a><a href="#to-port"><pre class="button color--hard-blue text--m">to-port</pre></a><a href="#to-relative-url"><pre class="button color--hard-blue text--m">to-relative-url</pre></a><a href="#to-scheme"><pre class="button color--hard-blue text--m">to-scheme</pre></a><a href="#to-subdomain"><pre class="button color--hard-blue text--m">to-subdomain</pre></a><a href="#to-tld"><pre class="button color--hard-blue text--m">to-tld</pre></a><a href="#to-url-fragment"><pre class="button color--hard-blue text--m">to-url-fragment</pre></a><a href="#to-url-path"><pre class="button color--hard-blue text--m">to-url-path</pre></a><a href="#to-url-path-params"><pre class="button color--hard-blue text--m">to-url-path-params</pre></a><a href="#to-url-query-params"><pre class="button color--hard-blue text--m">to-url-query-params</pre></a><a href="#to-url-query-string"><pre class="button color--hard-blue text--m">to-url-query-string</pre></a><a href="#to-url-tail"><pre class="button color--hard-blue text--m">to-url-tail</pre></a><a href="#url-path-template-matches_"><pre class="button color--hard-blue text--m">url-path-template-matches?</pre></a><a href="#url-query-params-_url-query-string"><pre class="button color--hard-blue text--m">url-query-params->url-query-string</pre></a><a href="#url-query-string-_url-query-params"><pre class="button color--hard-blue text--m">url-query-string->url-query-params</pre></a><a href="#use-url-query-string"><pre class="button color--hard-blue text--m">use-url-query-string</pre></a><a href="#valid-url"><pre class="button color--hard-blue text--m">valid-url</pre></a><a href="#valid-url-path"><pre class="button color--hard-blue text--m">valid-url-path</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Isomorphic namespace</pre><pre class="color--black text--xxl text--wrap text--bold">fruits.uri.api</pre></div><div class="sections"></div><div class="sections"><div class="section" id="port-pattern"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">PORT-PATTERN</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7ea0302c-ad2c-4232-b1be-2f933db937ee"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7ea0302c-ad2c-4232-b1be-2f933db937ee&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(def PORT-PATTERN #"[\d]{1,8}")</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2e7f2c23-994d-4a62-abe8-f5dfe252fbfd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">constant</pre><pre class="text--uppercase color--soft-grey text--xxs ">regex pattern</pre></div></div></div></div><div class="section" id="scheme-pattern"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">SCHEME-PATTERN</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q275bebdd-47f1-4d94-bc0c-450058ac3344"><button class="snippet--header" onClick="toggleCollapsible(&apos;q275bebdd-47f1-4d94-bc0c-450058ac3344&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(def SCHEME-PATTERN #"[a-zA-Z][a-zA-Z\-\+\.\d]{1,7}")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q55416488-d12d-4969-b081-38afe7502a7d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">https://en.wikipedia.org/wiki/Uniform_Resource_Identifier<br>A scheme consisting of a sequence of characters beginning with a letter and followed<br>by any combination of letters, digits, plus (+), period (.), or hyphen (-).</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3dab578c-156b-4b83-8c75-b412f59410a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">constant</pre><pre class="text--uppercase color--soft-grey text--xxs ">regex pattern</pre></div></div></div></div><div class="section" id="domain-pattern"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">DOMAIN-PATTERN</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6b2a92b5-1afe-4e30-b22f-012191e4bbeb"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6b2a92b5-1afe-4e30-b22f-012191e4bbeb&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(def DOMAIN-PATTERN #"([a-zA-Z\d-]+\.)?[a-zA-Z\d-]+\.[a-zA-Z]+/?")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q34f3d7d3-6bfa-4d9b-8510-b06b58b36e90"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The subdomain part ...<br>... is not necessary.<br>... can contain lowercase letters, uppercase letters and/or digits and hyphens (-).<br>... must be at least 1 character long!<br>... must end with a period (.) character!<br>The domain part ...<br>... can contain lowercase letters, uppercase letters and/or digits and hyphens (-).<br>... must be at least 1 character long!<br>... must end with a period (.) character!<br>The TLD part ...<br>... can contain lowercase and/or uppercase letters<br>... must be at least 1 character long!<br>The trailing slash is allowed but not necessary!</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q73457d30-342b-41ee-b428-36b261fe6f41"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">constant</pre><pre class="text--uppercase color--soft-grey text--xxs ">regex pattern</pre></div></div></div></div><div class="section" id="url-path-template-matches_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">url-path-template-matches?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6625a295-bbe5-4864-886f-562812f15883"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6625a295-bbe5-4864-886f-562812f15883&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn url-path-template-matches?
  ([url-path url-path-template]
   (url-path-template-matches? url-path url-path-template {}))

  ([url-path url-path-template {:keys [case-sensitive?]}]
   (letfn [(f1 [url-path url-path-template]
               (let [url-path-parts                (string/split url-path          #"/")
                     url-path-template-parts       (string/split url-path-template #"/")
                     url-path-parts-count          (count        url-path-parts)
                     url-path-template-parts-count (count        url-path-template-parts)]
                    (letfn [(f0 [dex] (cond
                                            (= dex url-path-template-parts-count)
                                            (-&gt; true)

                                            (= ":" (str (get-in url-path-template-parts [dex 0])))
                                            (f0 (inc dex))

                                            (=  (get url-path-parts          dex)
                                                (get url-path-template-parts dex))
                                            (f0 (inc dex))

                                            :unmatching-parts nil))]

                           (if (= url-path-parts-count url-path-template-parts-count)
                               (f0 0)))))]

          (if case-sensitive? (f1 (str                 url-path)
                                  (str                 url-path-template))
                              (f1 (string/to-lowercase url-path)
                                  (string/to-lowercase url-path-template))))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7c28cc3f-11b1-4c9b-83b0-a01c888ea5aa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(url-path-template-matches? "/my-path/my-value" "/my-path/:my-param")<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q94b96525-12d1-4fd4-bfd1-3a2963d40ee8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-path</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb3a9a6d3-8599-4d15-9873-5e83addd2bf0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-path-template</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qba0b16e1-ef6c-44b6-b970-e04cb4fcbd83"><button class="snippet--header" onClick="toggleCollapsible(&apos;qba0b16e1-ef6c-44b6-b970-e04cb4fcbd83&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">options</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:case-sensitive? (boolean)(opt)<br>  Default: false}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa410cc48-3ffe-4914-ad6d-239e7f777959"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="to-lowercase"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-lowercase</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe20e27a3-6423-40f8-89d0-7ee9aef0ec19"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe20e27a3-6423-40f8-89d0-7ee9aef0ec19&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-lowercase
  [n]
  (cond 
        (and (string/contains-part? n "//")
             (string/nth-dex-of     n "/" 3))
        (let [dex (string/nth-dex-of n "/" 3)]
             (str (-&gt; n (string/keep-range 0 dex)
                        (string/to-lowercase))
                  (-&gt; n (string/keep-range dex))))

        (string/contains-part? n "/")
        (str (-&gt; n (string/before-first-occurence "/" {:return? false})
                   (string/to-lowercase))
             (-&gt; n (string/from-first-occurence   "/" {:return? false})))

        (string/contains-part? n "?")
        (str (-&gt; n (string/before-first-occurence "?" {:return? false})
                   (string/to-lowercase))
             (-&gt; n (string/from-first-occurence   "?" {:return? false})))

        (string/contains-part? n "#")
        (str (-&gt; n (string/before-first-occurence "#" {:return? false})
                   (string/to-lowercase))
             (-&gt; n (string/from-first-occurence   "#" {:return? false})))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6ba1b0fc-cdd7-4cae-97ef-466fdb94d09f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-lowercase "Https://My-domain.com")<br>=&gt;<br>"https://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa04929b1-3c27-4be0-847d-0abc60cc738e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-lowercase "Https://My-domain.com/My-path?My-query#My-fragment")<br>=&gt;<br>"https://my-domain.com/My-path?My-query#My-fragment"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc0fdc973-1adc-46f1-a597-6cbc3127b72d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q86680f7a-c48b-4e38-bf9b-ae59cebc44f0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-scheme"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-scheme</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9b4cd64e-d41b-46c1-a41d-0a0840a3e159"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9b4cd64e-d41b-46c1-a41d-0a0840a3e159&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-scheme
  [n]
  (-&gt; (regex/before-first-match n #"\:(?!\d)" {:return? false})
      (string/to-lowercase)
      (regex/re-return patterns/SCHEME-PATTERN)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaa38166a-2a02-4d4b-8dbf-14293071758a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-scheme "https://my-domain.com")<br>=&gt;<br>"https"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0ef81cf9-3de6-4adf-a12f-2feea764529a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-scheme "ftp://user@my-domain.com")<br>=&gt;<br>"ftp"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4c8aecf1-3d57-4f0d-91c2-6c204192bb31"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-scheme "mailto:johndoe@my-domain.com")<br>=&gt;<br>"mailto"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfe675387-5fc4-4c24-8e5a-36fd962b020d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-scheme "my-domain.com:80")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q75ca3bc9-0ddf-4a10-a198-4c9815ce1bfe"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-scheme "localhost:80")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb0a12248-7bc4-45b9-aa93-d480159d58ba"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe4d78d6a-399e-4162-8ee8-3c46c5bec77b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-nonschemed"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-nonschemed</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe453411d-2e08-44f2-ad8b-3a0042a92e7d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe453411d-2e08-44f2-ad8b-3a0042a92e7d&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-nonschemed
  [n]
  (if-let [scheme (to-scheme n)]
          (-&gt; n (string/after-first-occurence ":"  {:return? false})
                (string/after-first-occurence "//" {:return? true}))
          (-&gt; n)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa3e1cf0b-f6a9-4ee1-8ee8-73256e19f414"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-nonschemed "https://my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q67862451-7921-4c4e-b015-25d1a4d8a145"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-nonschemed "mailto:johndoe@my-domain.com")<br>=&gt;<br>"johndoe@my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfec37c28-2535-405a-b0f8-8034c293e18e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-nonschemed "ftp://user@my-domain.com")<br>=&gt;<br>"user@my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q895bd83b-be18-41ab-9154-4f2ff7dc584c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-nonschemed "my-domain.com:80")<br>=&gt;<br>"my-domain.com:80"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q72e973b7-3415-45ec-9c03-12e27211945e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-nonschemed "localhost:80")<br>=&gt;<br>"localhost:80"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q78aff149-4f20-46ff-8f11-2959927026e0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa3b70f2e-1a45-4a82-a2b2-57e168f87b1e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-hostname"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-hostname</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7df02fb0-c637-4c40-b9ab-be6115e701ed"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7df02fb0-c637-4c40-b9ab-be6115e701ed&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-hostname
  [n]
  (-&gt; (to-nonschemed n)
      (string/after-first-occurence  "@"  {:return? true})
      (string/before-first-occurence ":"  {:return? true})
      (string/before-first-occurence "/"  {:return? true})
      (string/before-first-occurence "?"  {:return? true})
      (string/before-first-occurence "#"  {:return? true})
      (string/to-lowercase)
      (string/to-nil {:if-empty? true})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q20f71fa0-73fc-46ed-a0e2-42f8846e7695"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "https://my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1a0ffa7b-101f-44f1-a9a8-3f1c872310bc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "https://www.sub.my-domain.com:80/my-path")<br>=&gt;<br>"www.sub.my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf81feda8-aa0b-4f5e-9a9d-a20e30d7bcd1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "mailto:johndoe@my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdd3c0838-fd09-4aa2-97f2-bcf330b0140f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "ftp://user@my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc064eaa1-718c-4a99-8d13-b33eadebfda1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "http://192.0.2.16:80/my-path")<br>=&gt;<br>"192.0.2.16"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe7182eaf-8d00-49ec-88f2-9cefd067b660"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "localhost:80")<br>=&gt;<br>"localhost"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qabf3f66a-cf90-47d3-9a2d-7fb9f71da579"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-hostname "/my-path?my-query#my-fragment")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1d38f3df-88cd-4468-af5b-cdf8626ae427"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q87a037ce-d8b2-47b6-90ea-0d04bc74dab5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-port"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-port</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q59760c17-3f1a-4f43-bd9a-839b3525c84d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q59760c17-3f1a-4f43-bd9a-839b3525c84d&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-port
  [n]
  (-&gt; (to-nonschemed n)
      (string/after-first-occurence  ":" {:return? false})
      (string/before-first-occurence "/" {:return? true})
      (string/before-first-occurence "?" {:return? true})
      (string/before-first-occurence "#" {:return? true})
      (regex/re-return patterns/PORT-PATTERN)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q86e122cd-da10-4018-bf1e-1d4ed1d7d89e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-port "https://my-domain.com:80")<br>=&gt;<br>"80"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa7b772bc-1e73-4281-b6d5-dd4bb2c88cd0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-port "https://my-domain.com")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qce6b131a-9da7-4b1f-876f-de324071757f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q62266dc6-142f-4fde-8495-d4cb9ab30303"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-domain"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-domain</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb3fdc510-1a8b-4b98-9538-c279c8324c67"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb3fdc510-1a8b-4b98-9538-c279c8324c67&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-domain
  [n]
  (-&gt; (to-nonschemed n)
      (string/to-lowercase)
      (string/after-first-occurence  "www." {:return? true})
      (string/before-first-occurence "/"    {:return? true})
      (string/before-first-occurence "?"    {:return? true})
      (string/before-first-occurence "#"    {:return? true})
      (string/after-first-occurence  "@"    {:return? true})
      (regex/re-return patterns/DOMAIN-PATTERN)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q514a5465-51a9-442c-bfc0-f9697d4307ed"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "https://my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q14d3ce3f-52a7-496a-bdf1-7b206fce7150"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "https://www.subs.my-domain.com:80/my-path")<br>=&gt;<br>"sub.my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qed2c79d7-3420-40c6-af6b-849d3efb91b9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "mailto:johndoe@my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6ba069ce-bcda-4d37-bc05-884828b1b1a3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "ftp://user@my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q733172de-cda3-4c20-8357-ec6e3f72ace4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "my-domain.com:80")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcb638c24-3d4d-4ba0-9187-069e95cdd3dc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "192.0.2.16:80")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q82106234-69b6-4704-bdaf-2a07cfeed320"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-domain "/my-path?my-query#my-fragment")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q52d1bcda-223c-4e3b-a7f5-2e8f1e138b3d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8d774a14-4497-442d-96cd-8b1e8917782f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-subdomain"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-subdomain</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa9a97e94-d500-4a18-8b7a-c29aa9dba201"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa9a97e94-d500-4a18-8b7a-c29aa9dba201&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-subdomain
  [n]
  (if-let [domain (to-domain n)]
          (if (-&gt; domain (string/occurence-min?         "." 2))
              (-&gt; domain (string/before-first-occurence ".")
                         (string/to-lowercase)
                         (string/to-nil {:if-empty? true})))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc753395a-159d-4258-8be2-a02eedd39a36"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-subdomain "https://sub.my-domain.com")<br>=&gt;<br>"sub"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7d252db0-03bd-49c7-b55f-e3ac97eb1834"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-subdomain "https://my-domain.com")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q425cad5f-398a-4533-a8f7-510def765cee"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q889d7a6b-51fd-4aba-9282-c367c0d52905"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-tld"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-tld</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3a633a44-3b98-4424-99fe-3bcc5e619baa"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3a633a44-3b98-4424-99fe-3bcc5e619baa&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-tld
  [n]
  (if-let [domain (to-domain n)]
          (string/after-last-occurence domain "." {:return? false})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q694cf2f0-4b80-4ad5-a57c-a48ad659b7a8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-tld "https://my-domain.com")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q68a2c0fe-9ca3-443e-808e-1a821afe4306"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-tld "https://my-domain.com")<br>=&gt;<br>"com"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9d2fa6ec-aa3f-4276-9910-3fc8baec4c8a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb4f485ac-b106-4d9e-ad36-329b36eaf319"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-url-tail"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-tail</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd6d319d5-6ac6-4907-abec-3bb6d26b1c96"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd6d319d5-6ac6-4907-abec-3bb6d26b1c96&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-tail
  [n]
  (if (string/contains-part?        n "?")
      (string/after-first-occurence n "?" {:return? false})
      (string/after-first-occurence n "#" {:return? false})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdc463e08-af45-447e-b141-1cd68bc2c385"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-tail "https://my-domain.com/my-path?my-query#my-fragment")<br>=&gt;<br>"my-query#my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qff6bb5f1-dae1-427f-ad61-1d3fc3119897"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-tail "https://my-domain.com/my-path#my-fragment")<br>=&gt;<br>"my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa23b9826-8e6a-4808-bb8b-5d868bf20bc0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-tail "https://my-domain.com/my-path")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q535e80b4-e3eb-4aca-8da9-fd89ed0f57c3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3717e63e-cfa6-47fc-8f54-ed2073ebb9a3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-parent-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-parent-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qca725632-0fa2-4d0c-ae43-c35ab4104d29"><button class="snippet--header" onClick="toggleCollapsible(&apos;qca725632-0fa2-4d0c-ae43-c35ab4104d29&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-parent-url
  [n]
  (if-let [domain (to-domain n)]
          (-&gt; n (string/not-end-with          "/")
                (string/before-last-occurence "/" {:return? true}))
          (-&gt; n (string/not-end-with          "/")
                (string/before-last-occurence "/" {:return? false})
                (string/start-with            "/"))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe908bb31-918f-4ea8-959b-43befebc7b15"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "https://my-domain.com/my-path")<br>=&gt;<br>"https://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q50d1fdf6-2ebd-4fab-8fdb-4daa75ef6a7f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "https://my-domain.com")<br>=&gt;<br>"https://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd3fe65bc-cbdb-4961-816e-331c60f875d0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "/my-path/another-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcbd2c5fb-f9d6-45c4-8cd7-13d571d352d6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "/my-path")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1779dffe-af4c-4ee9-ac0c-31056c88825e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "/")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6eb4601f-f63b-46c0-b087-39fe2eff2b25"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-parent-url "my-path")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q48a48179-1fe7-4303-8c5a-f8514851671f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q27f10789-791e-4818-9648-92262585a3c7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-relative-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-relative-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1812093d-f063-4f85-9fa4-d8ba7ee9761a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1812093d-f063-4f85-9fa4-d8ba7ee9761a&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-relative-url
  [n]
  (if-let [domain (to-domain n)]
          (-&gt; n (to-lowercase)
                (string/after-first-occurence domain {:return? false})
                (string/not-end-with "/")
                (string/start-with   "/"))
          (-&gt; n (to-lowercase)
                (string/not-end-with "/")
                (string/start-with   "/"))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q320919ff-98c0-4839-97c9-ac5a6984a2ce"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "my-domain.com/my-path")<br>=&gt;<br>"/my-path?my-param#my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf6e4ba5a-4849-47a5-9092-e445644a84c9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "my-domain.com/my-path?my-query#my-fragment")<br>=&gt;<br>"/my-path?my-query#my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q64e7bb34-acc4-4a26-ad37-3584a5b51cae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "my-domain.com")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qebfdf168-a1f7-49fd-955e-1e8e962aae40"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "/my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0e75d067-80b9-4c3f-9cf8-9ed1300cb1dd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3fdb1d7f-c2a1-4973-8fb2-3c3eb61bddad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "/")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfab714c2-3d47-4def-9146-e68eac186475"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-relative-url "")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3a636b11-b689-464d-868c-75485efe84f3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q7553d818-017a-4cce-989e-26e016034d34"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-absolute-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-absolute-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd0c3e43b-6470-4b32-ad16-285e905bdb60"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd0c3e43b-6470-4b32-ad16-285e905bdb60&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-absolute-url
  [n domain]
  (if-let [absolute-url? (to-domain n)]
          (-&gt; n (string/not-end-with "/")
                (to-lowercase)
                (string/start-with   "https://"))
          (-&gt; n (string/start-with   "/")
                (string/prepend      domain)
                (to-lowercase)
                (string/not-end-with "/")
                (string/start-with   "https://"))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc7394e84-061c-421b-8319-6087e8bc0424"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-absolute-url "/my-path" "my-domain.com")<br>=&gt;<br>"https://my-domain.com/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc45dacf9-87af-43a5-8c4c-f7b314b2d19f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-absolute-url "my-domain.com/my-path" "another-domain.com")<br>=&gt;<br>"https://my-domain.com/my-path"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9c6b6d3d-96af-4794-aff1-4cac37bff491"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5adf2dfa-5483-457c-83a3-02301c09315c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">domain</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q577460e0-fd32-4051-b682-54982e8a8c29"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-url-path"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-path</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1b7915eb-ce43-465b-aaea-ceaaaa367e50"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1b7915eb-ce43-465b-aaea-ceaaaa367e50&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-path
  [n]
  (-&gt; n (to-relative-url)
        (string/before-first-occurence "?" {:return? true})
        (string/before-first-occurence "#" {:return? true})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfda1bfbd-8fae-4e94-a717-2191cc296278"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path "https://my-domain.com/my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdffb54ac-8716-4e2e-909d-d99f42807507"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path "https://my-domain.com")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6bad0015-6970-4083-9833-cb6eb9a2bc49"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path "https://my-domain.com/my-path?my-param=my-value&another-param")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q513e2774-a8ee-4243-af4a-be4a40bbd9d2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path "https://my-domain.com/?my-param=my-value&another-param")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8c88b8cd-ad72-4413-92c9-be7fec5a7bbe"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path "https://my-domain.com?my-param=my-value&another-param")<br>=&gt;<br>"/"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbc23ce68-7220-46c4-9e46-78cbe9494f1f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2a8afab6-a4da-4ca6-8fb6-f66129b44bd4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-url-path-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-path-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb7acdf3f-d127-4c94-b0ae-92dfd5ee24ff"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb7acdf3f-d127-4c94-b0ae-92dfd5ee24ff&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-path-params
  [n url-path-template]
  (letfn [(f0 [n] (-&gt; n (to-url-path)
                        (string/not-start-with "/")
                        (string/not-end-with   "/")
                        (string/split         #"/")))]
         (let [url-path                (to-url-path n)
               url-path-parts          (f0 url-path)
               url-path-template-parts (f0 url-path-template)]
              (letfn [(f0 [result dex x]
                          (let [x (reader/parse-edn x)]
                               (if (keyword? x)
                                   (let [url-path-part (nth url-path-parts dex)]
                                        (assoc result x url-path-part))
                                   (-&gt; result))))]
                     (reduce-kv f0 {} url-path-template-parts)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q50207067-78bf-4829-a216-2921769c1240"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path-params "/my-path" "/:a")<br>=&gt;<br>{:a "my-path"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q80327344-0b8b-4008-89be-068e0a8104f1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path-params "https://my-domain.com/my-path/another-path" "/:a/:b")<br>=&gt;<br>{:a "my-path" :b "another-path"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdb85cb35-af2f-4f31-a530-72e4d435de70"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path-params "https://my-domain.com/my-path/another-path" "/:a/b")<br>=&gt;<br>{:a "my-path"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe6e6a0f4-483f-4092-bb62-d0b62033723a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-path-params "/my-path/another-path" "/a/b")<br>=&gt;<br>{}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8f8280e0-9f8d-4be0-9bc1-3a6c76152dbb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6d4f9535-5b90-47ca-987a-1462e16cee59"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-path-template</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc9a18cb2-065e-4add-af2a-4e74e365fcac"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="to-url-fragment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-fragment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q01db1d15-ba58-4f6f-840d-e97f0d9d394a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q01db1d15-ba58-4f6f-840d-e97f0d9d394a&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-fragment
  [n]
  (string/after-first-occurence n "#" {:return? false}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4a1712b3-bf0e-4fbf-83e7-98a1cdc8dbbd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-fragment "/my-path#my-fragment")<br>=&gt;<br>"my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1317a4a8-5fd7-4f67-997d-c9b7469d91f1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-fragment "https://my-domain.com/my-path?my-query#my-fragment")<br>=&gt;<br>"my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q40240474-2721-4f4f-9abb-306cb1ceacad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-fragment "/my-path#my-fragment")<br>=&gt;<br>"my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q35081e46-f743-476e-b311-6271db813766"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-fragment "https://my-domain.com/my-path?my-query")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdbb96757-1a4a-46d0-b9b5-7df8f30c691a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5dfa9d17-b695-4232-a539-5a40738d163e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-url-query-string"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-query-string</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qeb8f1c81-8662-4e8b-8f3f-5f6b568e7039"><button class="snippet--header" onClick="toggleCollapsible(&apos;qeb8f1c81-8662-4e8b-8f3f-5f6b568e7039&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-query-string
  [n]
  (-&gt; n (string/after-first-occurence  "?" {:return? false})
        (string/before-first-occurence "#" {:return? true})
        (string/to-nil {:if-empty? true})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qadd7e794-020e-4744-9ab6-8f8f1aeb9ee9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-string "/my-path?my-query")<br>=&gt;<br>"my-query"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1bf56c57-5edc-4a33-a407-6a0d5450b89f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-string "https://my-domain.com/my-path?my-query#my-fragment")<br>=&gt;<br>"my-query"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb9a31059-0531-4f54-b51d-c8a2d5e778ad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-string "https://my-domain.com/my-path#my-fragment")<br>=&gt;<br>nil</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe1839868-cddd-42ed-8915-6ae2b39c9f20"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbf3ddebe-bedf-43e8-89af-cf40daeed0d4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="to-url-query-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-url-query-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9f13c4d8-a11d-4aa0-bbe4-9c4a29a8a493"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9f13c4d8-a11d-4aa0-bbe4-9c4a29a8a493&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-url-query-params
  [n]
  (-&gt; n (to-url-query-string)
        (query/url-query-string-&gt;url-query-params)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaf7c1a0e-1f4f-4f20-829b-6174cdb5b08d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-params "/my-path?my-query")<br>=&gt;<br>{:my-query nil}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q65515218-b8a8-4769-a096-290b9f797435"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-params "/my-path?my-param=my-value")<br>=&gt;<br>{:my-param "my-value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa2350524-ad46-4f0f-b9a0-2237c5e69b51"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-params "http://my-domain.com/my-path?my-param=my-value&another-param#my-fragment")<br>=&gt;<br>{:my-param "my-value" :another-param nil}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3e1e1bb1-ac12-466c-a8f5-47ac841e659e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-url-query-params "http://my-domain.com/my-path#my-fragment")<br>=&gt;<br>{}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q59f6437c-bedc-4018-b8fd-3a50b5a002ae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb004a044-6bc6-4125-af5a-b1eb994f88d8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="to-encoded-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">to-encoded-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb23f122a-7df3-4b4f-aa68-9039641b7682"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb23f122a-7df3-4b4f-aa68-9039641b7682&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn to-encoded-url
  ([n]
   (to-encoded-url n {}))

  ([n {:keys [strict?]}]
   #?(:cljs (if strict? (.encodeURIComponent js/window n)
                        (.encodeURI          js/window n)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0d902709-abe0-4dff-a4bc-194bf53255ca"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-encoded-url "my-domain.com/my path?my param")<br>=&gt;<br>"my-domain.com/my%20path?my%20param"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe7cd7693-a0bd-471f-add6-f555cf213c49"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(to-encoded-url "my-domain.com/my path?my param" {:strict? true})<br>=&gt;<br>"my-domain.com%2Fmy%20path%3Fmy%20param"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2f39b9d5-a057-4c7a-aa5a-3dbb3d719a9d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8417b4de-d542-4c60-aac8-4e609b3a39bd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8417b4de-d542-4c60-aac8-4e609b3a39bd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">options</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:strict? (boolean)(opt)<br>  Default: false}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q58f3d045-56c4-4f93-bac1-31776b86b2cc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="pretty-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">pretty-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe029dff9-14de-42cb-a786-3ceafd55fba7"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe029dff9-14de-42cb-a786-3ceafd55fba7&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn pretty-url
  [n]
  (-&gt; n (string/not-end-with          "/")
        (string/after-first-occurence "://" {:return? true})))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4708201d-9ced-4e3c-bdb3-f63f15d350c3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pretty-url "https://my-domain.com")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2b1d2c6e-3782-4353-aac6-369e973e7c7b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pretty-url "https://my-domain.com/")<br>=&gt;<br>"my-domain.com"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc481ba7c-36d9-465f-91d0-8ca7b52b0f4f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q991e9182-2186-405c-a950-d6a508eefe99"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="url-query-params-_url-query-string"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">url-query-params->url-query-string</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q36302bc0-39a5-410e-ab13-f1981ea5c344"><button class="snippet--header" onClick="toggleCollapsible(&apos;q36302bc0-39a5-410e-ab13-f1981ea5c344&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn url-query-params-&gt;url-query-string
  [url-query-params]
  (letfn [(f0 [result k v]
              (str result (if result "&")
                          (if (keyword? k)
                              (name     k)
                              (str      k))
                          (if v "=") v))]
         (reduce-kv f0 nil url-query-params)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q52e4be3a-77f4-4542-b290-932ab5e57776"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(url-query-params-&gt;url-query-string {:my-param "my-value" :another-param nil})<br>=&gt;<br>"my-param=my-value&another-param"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2e2fbf21-d733-4ff6-851e-e33e28158ff8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(url-query-params-&gt;url-query-string {"my-param" "my-value" "another-param" nil})<br>=&gt;<br>"my-param=my-value&another-param"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfc08ffa2-f3d4-4046-9c58-8904f706c388"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-query-params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc211eae4-7120-4927-a97f-57f00c6042bd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="url-query-string-_url-query-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">url-query-string->url-query-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5dbb3d6d-d74d-475b-bb76-c4b1688c9134"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5dbb3d6d-d74d-475b-bb76-c4b1688c9134&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn url-query-string-&gt;url-query-params
  [url-query-string]
  (letfn [(f0 [result x]
              (let [[k v] (string/split x #"=")]
                   (assoc result (keyword k) v)))]
         (reduce f0 {} (string/split url-query-string #"&"))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qba7fa403-6134-4099-afd2-74bab695fc6f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(url-query-string-&gt;url-query-params "my-param=my-value&another-param")<br>=&gt;<br>{:my-param "my-value" :another-param nil}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe52c90ac-0f9d-49d3-a092-fbefd528c614"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-query-string</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4ddce48f-c874-46b0-bf88-5d40687081bd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="use-url-query-string"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">use-url-query-string</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9059e9a7-9b86-4484-bad6-e92abfebf628"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9059e9a7-9b86-4484-bad6-e92abfebf628&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn use-url-query-string
  [n url-query-string]
  (letfn [
          (use-original [] (if-let [% (convert/to-url-query-string n)]
                                   (str % "&" url-query-string)
                                   (str       url-query-string)))

          (remove-duplicates [%] (-&gt; % query/url-query-string-&gt;url-query-params
                                       query/url-query-params-&gt;url-query-string))]

         (let [url-fragment     (convert/to-url-fragment n)
               url-query-string (-&gt; (use-original)
                                    (remove-duplicates))]
              (str (-&gt; n (string/before-first-occurence "?" {:return? true})
                         (string/before-first-occurence "#" {:return? true}))
                   (if (string/not-empty? url-query-string) (str "?" url-query-string))
                   (if (string/not-empty? url-fragment)     (str "#" url-fragment))))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8c7ebf9d-7b07-4737-a3c9-3559bad8edfb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(use-url-query-string "my-domain.com/my-path" "my-param")<br>=&gt;<br>"my-domain.com/my-path?my-param"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q36479c24-16fe-4cef-89ec-40836d724902"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(use-url-query-string "my-domain.com/my-path" "my-param=my-value")<br>=&gt;<br>"my-domain.com/my-path?my-param=my-value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1a82ac36-6bf7-4edf-8994-99c48011a838"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(use-url-query-string "my-domain.com/my-path#my-fragment" "my-param")<br>=&gt;<br>"my-domain.com/my-path?my-param#my-fragment"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcbbd743e-a4cd-458f-b3cb-4009f5c5c4f2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(use-url-query-string "my-domain.com/my-path?my-param" "another-param=another-value")<br>=&gt;<br>"my-domain.com/my-path?my-param&another-param=another-value"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa6d1ce16-3e2f-47ab-8fba-2b8d10a363d8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc85c6e5f-eabe-472d-bdc5-2a03bf49bd4d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">url-query-string</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q032f4d6a-ef56-451e-9cb9-6a29193acbf2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="valid-url"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">valid-url</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q303584bf-75ea-4f6b-9691-44c0ad9b73f0"><button class="snippet--header" onClick="toggleCollapsible(&apos;q303584bf-75ea-4f6b-9691-44c0ad9b73f0&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn valid-url
  [n]
  (if-let [hostname (convert/to-hostname n)]
          (if (string/contains-part? n "://")
              (-&gt; n (convert/to-lowercase)
                    (string/not-end-with "/"))
              (-&gt; n (convert/to-lowercase)
                    (string/not-end-with "/")
                    (string/start-with "https://")))
          (-&gt; n (string/not-end-with "/")
                (string/start-with "/"))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf796f00c-75c7-4414-bb9c-09fe13e0a73f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "my-domain.com")<br>=&gt;<br>"https://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q275ead59-8582-4018-80da-8fb995b7f61c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "my-domain.com/")<br>=&gt;<br>"https://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcdc1c237-67b8-481b-8333-eb0c4ad7641a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "http://my-domain.com")<br>=&gt;<br>"http://my-domain.com"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf1f6abd5-1d9b-4ec9-bde4-63d9142454a3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "/my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaf64c481-1e5a-4e46-b663-28f24160a1b7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa889a800-6410-4f18-9b47-9ba5252ad1e8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url "localhost:4200/my-path")<br>=&gt;<br>"localhost:4200/my-path"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8b04b6aa-baae-4dee-aff7-ea70aa6a8efa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc7b9da09-499e-46f1-98d9-bcc3d9cc1f9f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div><div class="section" id="valid-url-path"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">valid-url-path</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf7878b2a-8d07-4763-b5ca-6b11efe73f5c"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf7878b2a-8d07-4763-b5ca-6b11efe73f5c&apos;)"><pre class="text--uppercase color--hard-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">(defn valid-url-path
  [n]
  (if-let [url-path (convert/to-url-path n)]
          (-&gt; url-path)
          (-&gt; "/")))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q74b04bc0-8f32-40f4-a4bf-fb5712bb4b50"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url-path "my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8702a67e-71dd-4952-8aa7-a1f814e1b698"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url-path "/my-path")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q755e2afe-b05d-43c7-90eb-26b582fcd66a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(valid-url-path "/my-path/")<br>=&gt;<br>"/my-path"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfe2e3b4e-98d5-46ae-8256-d92be0132a07"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcfa6db39-13d9-43af-a767-24d6e652dd2f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">string</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">cljc-fruits</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">1.0.9.6</pre><a class="text--s" href="https://github.com/bithandshake/cljc-fruits" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/bithandshake/cljc-fruits</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
